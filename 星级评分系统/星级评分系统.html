<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<script src="killstrom.js"></script>
	<style>
		body{
			background-color: #999;
		}
		.wrap{
			position: relative;
		}
		li{
			list-style: none;
			float:left;
			padding: 10px;
			width:10px;
			height:10px;
			line-height: 10px;
			text-align: center;
			background-color: #e3e3e3;
			margin-left: 10px;
		}
		.nice{
			background-color: #f00;
		}
		#score{
			height:10px;
			padding:10px;
			line-height: 10px;
		}
		div span{
			margin:0 5px;
		}
		div #nav{
			position: absolute;
			top:40px;
			left:50px;
			display: none;
		}
	</style>
</head>
<body>
	<div class="wrap">
		<ul>
			<li></li>
			<li></li>
			<li></li>
			<li></li>
			<li></li>
		</ul>
		<div id="score"><span id="grade">0</span>分</div>
		<div id="nav">^_^</div>
	</div>	
	<script>
		// 获取node节点
		var liList = getobj("li")
		var grade = getobj("#grade")
		var nav = getobj("#nav")
		// 移动像素
		var s = 40
		var sure = false
		// 枚举并绑定鼠标移上事件
		bindEvent(liList,"onmouseenter",function(e){
			// 鼠标当前所在的星星位置
			_this = e.target
			set()
		})
		// 执行函数
		function set(){
			for (var i = 0; i < liList.length; i++) {
				// 背景色为空
				liList[i].className = ""
				// 设置一个行内样式
				liList[i].setAttribute("num",i)	
				var m = _this.getAttribute("num")
				// 笑脸移动并且显示
				nav.style.marginLeft = parseInt(m * s) + "px "
				nav.style.display = "block"
				// 分数随着当前星星数量改变
				grade.innerHTML = parseInt(m) + 1
				// 让当前鼠标所在的位置和之前的星星全部显示背景色
				if (_this.className == "") {
					for (var a = 0; a <= m; a++) {
						_this.className = "nice"
						liList[a].className = "nice"
					}
				}
			}	
		}
	</script>
</body>
</html>